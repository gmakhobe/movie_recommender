"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4938],{4938:(We,tt,p)=>{p.r(tt),p.d(tt,{HomePageModule:()=>Je});var k=p(177),x=p(9465),Pt=p(4341),Y=p(7570),wt=p(467),N=p(8733),A=p(1717),R=p(7673),kt=p(8254);const V_key="ac0b36c3d1c21a7a0abbc240a9e436e2";var t=p(3953),O=p(9640),Nt=p(1626);let jt=(()=>{var e;class s{constructor(n){this.http=n}getMovies(n){return this.http.get(n)}}return(e=s).\u0275fac=function(n){return new(n||e)(t.KVO(Nt.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const Lt=()=>["/movie-search-results",1],j=(e,s,o,n,i)=>["/movie-details",e,s,o,n,i],Gt=()=>["/movie-search-results",2],Ut=()=>["/movie-search-results",3],Ht=()=>["/movie-search-results",4];function zt(e,s){if(1&e&&(t.j41(0,"ion-col",9),t.nrm(1,"ion-img",11),t.j41(2,"p")(3,"strong"),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.k0s()()),2&e){const o=s.$implicit;t.Y8G("routerLink",t.s1E(5,j,o.title,o.overview,o.backdrop_path,o.release_date,o.vote_average)),t.R7$(),t.Y8G("src","https://image.tmdb.org/t/p/w600_and_h900_bestv2"+o.poster_path),t.R7$(3),t.JRh(o.title),t.R7$(2),t.SpI("Rating: ",o.vote_average," "),t.R7$(2),t.SpI("Date: ",o.release_date," ")}}function Bt(e,s){if(1&e&&(t.j41(0,"div",4)(1,"ion-grid")(2,"ion-row"),t.DNE(3,zt,9,11,"ion-col",7),t.nI1(4,"async"),t.k0s()(),t.j41(5,"div",8)(6,"ion-button",9),t.EFF(7," More "),t.nrm(8,"ion-icon",10),t.k0s()()()),2&e){const o=t.XpG();t.R7$(3),t.Y8G("ngForOf",t.bMT(4,2,o.threePopularMovies$)),t.R7$(3),t.Y8G("routerLink",t.lJ4(4,Lt))}}function Kt(e,s){if(1&e&&(t.j41(0,"ion-col",9),t.nrm(1,"ion-img",11),t.j41(2,"p")(3,"strong"),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.k0s()()),2&e){const o=s.$implicit;t.Y8G("routerLink",t.s1E(5,j,o.title,o.overview,o.backdrop_path,o.release_date,o.vote_average)),t.R7$(),t.Y8G("src","https://image.tmdb.org/t/p/w600_and_h900_bestv2"+o.poster_path),t.R7$(3),t.JRh(o.title),t.R7$(2),t.SpI("Rating: ",o.vote_average," "),t.R7$(2),t.SpI("Date: ",o.release_date," ")}}function Yt(e,s){if(1&e&&(t.j41(0,"div",4)(1,"ion-grid")(2,"ion-row"),t.DNE(3,Kt,9,11,"ion-col",7),t.nI1(4,"async"),t.k0s()(),t.j41(5,"div",8)(6,"ion-button",9),t.EFF(7," More "),t.nrm(8,"ion-icon",10),t.k0s()()()),2&e){const o=t.XpG();t.R7$(3),t.Y8G("ngForOf",t.bMT(4,2,o.threeTopratedMovies$)),t.R7$(3),t.Y8G("routerLink",t.lJ4(4,Gt))}}function Vt(e,s){if(1&e&&(t.j41(0,"ion-col",9),t.nrm(1,"ion-img",11),t.j41(2,"p")(3,"strong"),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.k0s()()),2&e){const o=s.$implicit;t.Y8G("routerLink",t.s1E(5,j,o.title,o.overview,o.backdrop_path,o.release_date,o.vote_average)),t.R7$(),t.Y8G("src","https://image.tmdb.org/t/p/w600_and_h900_bestv2"+o.poster_path),t.R7$(3),t.JRh(o.title),t.R7$(2),t.SpI("Rating: ",o.vote_average," "),t.R7$(2),t.SpI("Date: ",o.release_date," ")}}function Jt(e,s){if(1&e&&(t.j41(0,"div",4)(1,"ion-grid")(2,"ion-row"),t.DNE(3,Vt,9,11,"ion-col",7),t.nI1(4,"async"),t.k0s()(),t.j41(5,"div",8)(6,"ion-button",9),t.EFF(7," More "),t.nrm(8,"ion-icon",10),t.k0s()()()),2&e){const o=t.XpG();t.R7$(3),t.Y8G("ngForOf",t.bMT(4,2,o.threeUpcomingMovies$)),t.R7$(3),t.Y8G("routerLink",t.lJ4(4,Ut))}}function Wt(e,s){if(1&e&&(t.j41(0,"ion-col",9),t.nrm(1,"ion-img",11),t.j41(2,"p")(3,"strong"),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.k0s()()),2&e){const o=s.$implicit;t.Y8G("routerLink",t.s1E(5,j,o.title,o.overview,o.backdrop_path,o.release_date,o.vote_average)),t.R7$(),t.Y8G("src","https://image.tmdb.org/t/p/w600_and_h900_bestv2"+o.poster_path),t.R7$(3),t.JRh(o.title),t.R7$(2),t.SpI("Rating: ",o.vote_average," "),t.R7$(2),t.SpI("Date: ",o.release_date," ")}}function Xt(e,s){if(1&e&&(t.j41(0,"div")(1,"h1"),t.EFF(2,"Favourate Movies"),t.k0s(),t.j41(3,"div",4)(4,"ion-grid")(5,"ion-row"),t.DNE(6,Wt,9,11,"ion-col",7),t.nI1(7,"async"),t.k0s()(),t.j41(8,"div",8)(9,"ion-button",9),t.EFF(10," More "),t.nrm(11,"ion-icon",10),t.k0s()()()()),2&e){const o=t.XpG();t.R7$(6),t.Y8G("ngForOf",t.bMT(7,2,o.threeFavourateMovies$)),t.R7$(3),t.Y8G("routerLink",t.lJ4(4,Ht))}}const Zt=[{path:"",component:(()=>{var e;class s{constructor(n,i){this.store=n,this.moviesRequest=i,this.popularMoviesURL=`https://api.themoviedb.org/3/movie/popular?language=en-US&page=1&api_key=${V_key}`,this.topratedMoviesURL=`https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=1&api_key=${V_key}`,this.upcomingMoviesURL=`https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1&api_key=${V_key}`,this.onAssignData(),this.popularMovies$.subscribe(r=>{this.popularMoviesCount$=(0,R.of)(r.length),0==r.length&&(this.onMoviesLoad(),this.onAssignData())})}ngOnInit(){this.onLoadingFavourateMovies()}onLoadingFavourateMovies(){var n=this;return(0,wt.A)(function*(){const i=yield kt.p.get({key:"FavourateMovies"});i.value&&(n.favMovies=JSON.parse(i.value),n.store.dispatch((0,N.Kl)({favourateMovies:n.favMovies})))})()}onMoviesLoad(){this.loadPopularMoviesFromServer(),this.loadTopratedMoviesFromServer(),this.loadUpcommingMoviesFromServer()}onAssignData(){this.popularMovies$=this.store.select(A.eo),this.threePopularMovies$=this.store.select(A.fF),this.topratedMovies$=this.store.select(A.MU),this.threeTopratedMovies$=this.store.select(A.hI),this.upcomingMovies$=this.store.select(A.pb),this.threeUpcomingMovies$=this.store.select(A.mI),this.favourateMovies$=this.store.select(A.Rq),this.threeFavourateMovies$=this.store.select(A.Xc),this.threeFavourateMovies$.subscribe(n=>{try{this.favourateMoviesCount$=(0,R.of)(n.length)}catch{this.favourateMoviesCount$=(0,R.of)(0)}})}loadPopularMoviesFromServer(){this.moviesRequest.getMovies(this.popularMoviesURL).subscribe(n=>{try{this.popularMoviesCount$=(0,R.of)(n.results.length),this.store.dispatch((0,N.cT)({popularMovies:n.results}))}catch{this.popularMoviesCount$=(0,R.of)(0)}})}loadTopratedMoviesFromServer(){this.moviesRequest.getMovies(this.topratedMoviesURL).subscribe(n=>{try{this.topratedMoviesCount$=(0,R.of)(n.results.length),this.store.dispatch((0,N.IG)({topratedMovies:n.results}))}catch{this.topratedMoviesCount$=(0,R.of)(0)}})}loadUpcommingMoviesFromServer(){this.moviesRequest.getMovies(this.upcomingMoviesURL).subscribe(n=>{try{this.upcomingMoviesCount$=(0,R.of)(n.results.length),this.store.dispatch((0,N.vm)({upcomingMovies:n.results}))}catch{this.upcomingMoviesCount$=(0,R.of)(0)}})}}return(e=s).\u0275fac=function(n){return new(n||e)(t.rXU(O.il),t.rXU(jt))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-home"]],decls:27,vars:14,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"three-movies-container"],["class","three-movies-container",4,"ngIf"],[4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"more-movies"],[3,"routerLink"],["name","arrow-forward"],["alt","Image",3,"src"]],template:function(n,i){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Recommender "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t.EFF(8,"Recommender"),t.k0s()()(),t.j41(9,"div",4)(10,"h1"),t.EFF(11,"Popular Movies"),t.k0s(),t.DNE(12,Bt,9,5,"div",5),t.nI1(13,"async"),t.k0s(),t.j41(14,"div",4)(15,"h1"),t.EFF(16,"Top Rated Movies"),t.k0s(),t.DNE(17,Yt,9,5,"div",5),t.nI1(18,"async"),t.k0s(),t.j41(19,"div",4)(20,"h1"),t.EFF(21,"Upcoming Movies"),t.k0s(),t.DNE(22,Jt,9,5,"div",5),t.nI1(23,"async"),t.k0s(),t.j41(24,"div",4),t.DNE(25,Xt,12,5,"div",6),t.nI1(26,"async"),t.k0s()()),2&n&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(8),t.Y8G("ngIf",t.bMT(13,6,i.popularMoviesCount$)),t.R7$(5),t.Y8G("ngIf",t.bMT(18,8,i.topratedMoviesCount$)),t.R7$(5),t.Y8G("ngIf",t.bMT(23,10,i.upcomingMoviesCount$)),t.R7$(3),t.Y8G("ngIf",t.bMT(26,12,i.favourateMoviesCount$)))},dependencies:[k.Sq,k.bT,x.Jm,x.hU,x.W9,x.lO,x.eU,x.iq,x.KW,x.ln,x.BC,x.ai,x.N7,Y.Wk,k.Jj],styles:[".more-movies[_ngcontent-%COMP%]{align-content:end}ion-button[_ngcontent-%COMP%]{float:right}.three-movies-container[_ngcontent-%COMP%]{padding:1dvb}"]}),s})()}];let Qt=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[Y.iI.forChild(Zt),Y.iI]}),s})();var et=p(983),nt=p(1985),_t=p(6365),L=p(8750),ot=p(3794),qt=p(2806);function st(...e){const s=(0,ot.lI)(e),o=(0,ot.R0)(e,1/0),n=e;return n.length?1===n.length?(0,L.Tg)(n[0]):(0,_t.U)(o)((0,qt.H)(n,s)):et.w}var te=p(7242),it=p(1413),ee=p(6129);class ne extends it.B{constructor(s=1/0,o=1/0,n=ee.U){super(),this._bufferSize=s,this._windowTime=o,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=o===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,o)}next(s){const{isStopped:o,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:r,_windowTime:u}=this;o||(n.push(s),!i&&n.push(r.now()+u)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const o=this._innerSubscribe(s),{_infiniteTimeWindow:n,_buffer:i}=this,r=i.slice();for(let u=0;u<r.length&&!s.closed;u+=n?1:2)s.next(r[u]);return this._checkFinalizedStatuses(s),o}_trimBuffer(){const{_bufferSize:s,_timestampProvider:o,_buffer:n,_infiniteTimeWindow:i}=this,r=(i?1:2)*s;if(s<1/0&&r<n.length&&n.splice(0,n.length-r),!i){const u=o.now();let l=0;for(let f=1;f<n.length&&n[f]<=u;f+=2)l=f;l&&n.splice(0,l+1)}}}var rt=p(7707),J=p(9974);function W(e,s,...o){if(!0===s)return void e();if(!1===s)return;const n=new rt.Ms({next:()=>{n.unsubscribe(),e()}});return(0,L.Tg)(s(...o)).subscribe(n)}var F=p(5964),C=p(6354),se=p(274),ie=p(6780);const at=new(p(9687).q)(ie.R);var ce=p(1853),ct=p(4360),le=p(5225);const ue=(0,ce.L)(e=>function(o=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=o});function de(e){throw new ue(e)}var fe=p(9437),ve=p(6697),X=p(6977),lt=p(5558),ge=p(941),Se=p(3993),ye=p(2816),Me=p(9079);const P="PERFORM_ACTION",ht="ROLLBACK",ft="TOGGLE_ACTION",mt="JUMP_TO_STATE",gt="JUMP_TO_ACTION",Z="IMPORT_STATE",St="LOCK_CHANGES",yt="PAUSE_RECORDING";class G{constructor(s,o){if(this.action=s,this.timestamp=o,this.type=P,typeof s.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Te{constructor(){this.type="REFRESH"}}class Ie{constructor(s){this.timestamp=s,this.type="RESET"}}class xe{constructor(s){this.timestamp=s,this.type=ht}}class Oe{constructor(s){this.timestamp=s,this.type="COMMIT"}}class Re{constructor(){this.type="SWEEP"}}class be{constructor(s){this.id=s,this.type=ft}}class Ae{constructor(s){this.index=s,this.type=mt}}class $e{constructor(s){this.actionId=s,this.type=gt}}class Fe{constructor(s){this.nextLiftedState=s,this.type=Z}}class Ce{constructor(s){this.status=s,this.type=St}}class De{constructor(s){this.status=s,this.type=yt}}const U=new t.nKC("@ngrx/store-devtools Options"),Mt=new t.nKC("@ngrx/store-devtools Initial Config");function Et(){return null}const Pe="NgRx Store DevTools";function we(e){const s={maxAge:!1,monitor:Et,actionSanitizer:void 0,stateSanitizer:void 0,name:Pe,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o="function"==typeof e?e():e,i=o.features||!!o.logOnly&&{pause:!0,export:!0,test:!0}||s.features;!0===i.import&&(i.import="custom");const r=Object.assign({},s,{features:i},o);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}function Tt(e,s){return e.filter(o=>s.indexOf(o)<0)}function It(e){const{computedStates:s,currentStateIndex:o}=e;if(o>=s.length){const{state:i}=s[s.length-1];return i}const{state:n}=s[o];return n}function w(e){return new G(e,+Date.now())}function ke(e,s){return Object.keys(s).reduce((o,n)=>{const i=Number(n);return o[i]=xt(e,s[i],i),o},{})}function xt(e,s,o){return{...s,action:e(s.action,o)}}function Ne(e,s){return s.map((o,n)=>({state:Ot(e,o.state,n),error:o.error}))}function Ot(e,s,o){return e(s,o)}function Rt(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Q(e,s,o,n,i){const r=o&&!o(e,s.action),u=n&&!s.action.type.match(n.map(f=>bt(f)).join("|")),l=i&&s.action.type.match(i.map(f=>bt(f)).join("|"));return r||u||l}function bt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function At(e){return{ngZone:e?(0,t.WQX)(t.SKi):null,connectInZone:e}}let H=(()=>{var e;class s extends O.SS{}return(e=s).\u0275fac=(()=>{let o;return function(i){return(o||(o=t.xGo(e)))(i||e)}})(),e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),s})();const _=new t.nKC("@ngrx/store-devtools Redux Devtools Extension");let $t=(()=>{var e;class s{constructor(n,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=At(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===P){if(i.isLocked||i.isPaused)return;const r=It(i);if(Rt(this.config)&&Q(r,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const u=this.config.stateSanitizer?Ot(this.config.stateSanitizer,r,i.currentStateIndex):r,l=this.config.actionSanitizer?xt(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(l,u))}else{const r={...i,stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?ke(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?Ne(this.config.stateSanitizer,i.computedStates):i.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new nt.c(n=>{const i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>n.next(r)),i.unsubscribe}):et.w}createActionStreams(){const n=this.createChangesObservable().pipe(function oe(e={}){const{connector:s=(()=>new it.B),resetOnError:o=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return r=>{let u,l,f,h=0,c=!1,a=!1;const v=()=>{null==l||l.unsubscribe(),l=void 0},y=()=>{v(),u=f=void 0,c=a=!1},m=()=>{const d=u;y(),null==d||d.unsubscribe()};return(0,J.N)((d,I)=>{h++,!a&&!c&&v();const E=f=null!=f?f:s();I.add(()=>{h--,0===h&&!a&&!c&&(l=W(m,i))}),E.subscribe(I),!u&&h>0&&(u=new rt.Ms({next:T=>E.next(T),error:T=>{a=!0,v(),l=W(y,o,T),E.error(T)},complete:()=>{c=!0,v(),l=W(y,n),E.complete()}}),(0,L.Tg)(d).subscribe(u))})(r)}}()),i=n.pipe((0,F.p)(c=>"START"===c.type)),r=n.pipe((0,F.p)(c=>"STOP"===c.type)),u=n.pipe((0,F.p)(c=>"DISPATCH"===c.type),(0,C.T)(c=>this.unwrapAction(c.payload)),(0,se.H)(c=>c.type===Z?this.dispatcher.pipe((0,F.p)(a=>a.type===O.q6),function he(e,s){const{first:o,each:n,with:i=de,scheduler:r=(null!=s?s:at),meta:u=null}=function ae(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==o&&null==n)throw new TypeError("No timeout provided.");return(0,J.N)((l,f)=>{let h,c,a=null,v=0;const y=m=>{c=(0,le.N)(f,r,()=>{try{h.unsubscribe(),(0,L.Tg)(i({meta:u,lastValue:a,seen:v})).subscribe(f)}catch(d){f.error(d)}},m)};h=l.subscribe((0,ct._)(f,m=>{null==c||c.unsubscribe(),v++,f.next(a=m),n>0&&y(n)},void 0,void 0,()=>{null!=c&&c.closed||null==c||c.unsubscribe(),a=null})),!v&&y(null!=o?"number"==typeof o?o:+o-r.now():n)})}(1e3),function pe(e,s=at){return(0,J.N)((o,n)=>{let i=null,r=null,u=null;const l=()=>{if(i){i.unsubscribe(),i=null;const h=r;r=null,n.next(h)}};function f(){const h=u+e,c=s.now();if(c<h)return i=this.schedule(void 0,h-c),void n.add(i);l()}o.subscribe((0,ct._)(n,h=>{r=h,u=s.now(),i||(i=s.schedule(f,e),n.add(i))},()=>{l(),n.complete()},void 0,()=>{r=i=null}))})}(1e3),(0,C.T)(()=>c),(0,fe.W)(()=>(0,R.of)(c)),(0,ve.s)(1)):(0,R.of)(c))),f=n.pipe((0,F.p)(c=>"ACTION"===c.type),(0,C.T)(c=>this.unwrapAction(c.payload))).pipe((0,X.Q)(r)),h=u.pipe((0,X.Q)(r));this.start$=i.pipe((0,X.Q)(r)),this.actions$=this.start$.pipe((0,lt.n)(()=>f)),this.liftedActions$=this.start$.pipe((0,lt.n)(()=>h))}unwrapAction(n){return"string"==typeof n?(0,eval)(`(${n})`):n}getExtensionConfig(n){var i,r,u;const l={name:n.name,features:n.features,serialize:n.serialize,autoPause:null!==(i=n.autoPause)&&void 0!==i&&i,trace:null!==(r=n.trace)&&void 0!==r&&r,traceLimit:null!==(u=n.traceLimit)&&void 0!==u?u:75};return!1!==n.maxAge&&(l.maxAge=n.maxAge),l}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}}return(e=s).\u0275fac=function(n){return new(n||e)(t.KVO(_),t.KVO(U),t.KVO(H))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),s})();const B={type:O.Zz},Le={type:"@ngrx/store-devtools/recompute"};function Ft(e,s,o,n,i){if(n)return{state:o,error:"Interrupted by an error up the chain"};let u,r=o;try{r=e(o,s)}catch(l){u=l.toString(),i.handleError(l)}return{state:r,error:u}}function K(e,s,o,n,i,r,u,l,f){if(s>=e.length&&e.length===r.length)return e;const h=e.slice(0,s),c=r.length-(f?1:0);for(let a=s;a<c;a++){const v=r[a],y=i[v].action,m=h[a-1],d=m?m.state:n,I=m?m.error:void 0,T=u.indexOf(v)>-1?m:Ft(o,y,d,I,l);h.push(T)}return f&&h.push(e[e.length-1]),h}let Ct=(()=>{var e;class s{constructor(n,i,r,u,l,f,h,c){const a=function Ge(e,s){return{monitorState:s(void 0,{}),nextActionId:1,actionsById:{0:w(B)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(h,c.monitor),v=function Ue(e,s,o,n,i={}){return r=>(u,l)=>{let{monitorState:f,actionsById:h,nextActionId:c,stagedActionIds:a,skippedActionIds:v,committedState:y,currentStateIndex:m,computedStates:d,isLocked:I,isPaused:E}=u||s;function T(M){let S=M,$=a.slice(1,S+1);for(let b=0;b<$.length;b++){if(d[b+1].error){S=b,$=a.slice(1,S+1);break}delete h[$[b]]}v=v.filter(b=>-1===$.indexOf(b)),a=[0,...a.slice(S+1)],y=d[S].state,d=d.slice(S),m=m>S?m-S:0}function D(){h={0:w(B)},c=1,a=[0],v=[],y=d[m].state,m=0,d=[]}u||(h=Object.create(h));let g=0;switch(l.type){case St:I=l.status,g=1/0;break;case yt:E=l.status,E?(a=[...a,c],h[c]=new G({type:"@ngrx/devtools/pause"},+Date.now()),c++,g=a.length-1,d=d.concat(d[d.length-1]),m===a.length-2&&m++,g=1/0):D();break;case"RESET":h={0:w(B)},c=1,a=[0],v=[],y=e,m=0,d=[];break;case"COMMIT":D();break;case ht:h={0:w(B)},c=1,a=[0],v=[],m=0,d=[];break;case ft:{const{id:M}=l;v=-1===v.indexOf(M)?[M,...v]:v.filter($=>$!==M),g=a.indexOf(M);break}case"SET_ACTIONS_ACTIVE":{const{start:M,end:S,active:$}=l,b=[];for(let q=M;q<S;q++)b.push(q);v=$?Tt(v,b):[...v,...b],g=a.indexOf(M);break}case mt:m=l.index,g=1/0;break;case gt:{const M=a.indexOf(l.actionId);-1!==M&&(m=M),g=1/0;break}case"SWEEP":a=Tt(a,v),v=[],m=Math.min(m,a.length-1);break;case P:{if(I)return u||s;if(E||u&&Q(u.computedStates[m],l,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const S=d[d.length-1];d=[...d.slice(0,-1),Ft(r,l.action,S.state,S.error,o)],g=1/0;break}i.maxAge&&a.length===i.maxAge&&T(1),m===a.length-1&&m++;const M=c++;h[M]=l,a=[...a,M],g=a.length-1;break}case Z:({monitorState:f,actionsById:h,nextActionId:c,stagedActionIds:a,skippedActionIds:v,committedState:y,currentStateIndex:m,computedStates:d,isLocked:I,isPaused:E}=l.nextLiftedState);break;case O.Zz:g=0,i.maxAge&&a.length>i.maxAge&&(d=K(d,g,r,y,h,a,v,o,E),T(a.length-i.maxAge),g=1/0);break;case O.q6:if(d.filter(S=>S.error).length>0)g=0,i.maxAge&&a.length>i.maxAge&&(d=K(d,g,r,y,h,a,v,o,E),T(a.length-i.maxAge),g=1/0);else{if(!E&&!I){m===a.length-1&&m++;const S=c++;h[S]=new G(l,+Date.now()),a=[...a,S],g=a.length-1,d=K(d,g,r,y,h,a,v,o,E)}d=d.map(S=>({...S,state:r(S.state,Le)})),m=a.length-1,i.maxAge&&a.length>i.maxAge&&T(a.length-i.maxAge),g=1/0}break;default:g=1/0}return d=K(d,g,r,y,h,a,v,o,E),f=n(f,l),{monitorState:f,actionsById:h,nextActionId:c,stagedActionIds:a,skippedActionIds:v,committedState:y,currentStateIndex:m,computedStates:d,isLocked:I,isPaused:E}}}(h,a,f,c.monitor,c),y=st(st(i.asObservable().pipe(function me(e){return(0,F.p)((s,o)=>e<=o)}(1)),u.actions$).pipe((0,C.T)(w)),n,u.liftedActions$).pipe((0,ge.Q)(te.T)),m=r.pipe((0,C.T)(v)),d=At(c.connectInZone),I=new ne(1);this.liftedStateSubscription=y.pipe((0,Se.E)(m),Dt(d),(0,ye.S)(({state:D},[g,M])=>{let S=M(D,g);return g.type!==P&&Rt(c)&&(S=function je(e,s,o,n){const i=[],r={},u=[];return e.stagedActionIds.forEach((l,f)=>{const h=e.actionsById[l];h&&(f&&Q(e.computedStates[f],h,s,o,n)||(r[l]=h,i.push(l),u.push(e.computedStates[f])))}),{...e,stagedActionIds:i,actionsById:r,computedStates:u}}(S,c.predicate,c.actionsSafelist,c.actionsBlocklist)),u.notify(g,S),{state:S,action:g}},{state:a,action:null})).subscribe(({state:D,action:g})=>{I.next(D),g.type===P&&l.next(g.action)}),this.extensionStartSubscription=u.start$.pipe(Dt(d)).subscribe(()=>{this.refresh()});const E=I.asObservable(),T=E.pipe((0,C.T)(It));Object.defineProperty(T,"state",{value:(0,Me.ot)(T,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=E,this.state=T}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new G(n,+Date.now()))}refresh(){this.dispatch(new Te)}reset(){this.dispatch(new Ie(+Date.now()))}rollback(){this.dispatch(new xe(+Date.now()))}commit(){this.dispatch(new Oe(+Date.now()))}sweep(){this.dispatch(new Re)}toggleAction(n){this.dispatch(new be(n))}jumpToAction(n){this.dispatch(new $e(n))}jumpToState(n){this.dispatch(new Ae(n))}importState(n){this.dispatch(new Fe(n))}lockChanges(n){this.dispatch(new Ce(n))}pauseRecording(n){this.dispatch(new De(n))}}return(e=s).\u0275fac=function(n){return new(n||e)(t.KVO(H),t.KVO(O.SS),t.KVO(O.QU),t.KVO($t),t.KVO(O.sA),t.KVO(t.zcH),t.KVO(O.N_),t.KVO(U))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac}),s})();function Dt({ngZone:e,connectInZone:s}){return o=>s?new nt.c(n=>o.subscribe({next:i=>e.run(()=>n.next(i)),error:i=>e.run(()=>n.error(i)),complete:()=>e.run(()=>n.complete())})):o}const He=new t.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function ze(e,s){return!!e||s.monitor!==Et}function Be(){const e="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[e]<"u"?window[e]:null}function Ke(e={}){return(0,t.EmA)([$t,H,Ct,{provide:Mt,useValue:e},{provide:He,deps:[_,U],useFactory:ze},{provide:_,useFactory:Be},{provide:U,deps:[Mt],useFactory:we},{provide:O.h1,deps:[Ct],useFactory:Ye},{provide:O.Bh,useExisting:H}])}function Ye(e){return e.state}let Ve=(()=>{var e;class s{static instrument(n={}){return{ngModule:s,providers:[Ke(n)]}}}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({}),s})(),Je=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[k.MD,Pt.YN,x.bv,Qt,Ve.instrument({maxAge:25})]}),s})()}}]);