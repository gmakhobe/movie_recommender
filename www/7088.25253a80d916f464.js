"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7088],{7088:(S,d,s)=>{s.r(d),s.d(d,{MovieDetailsPageModule:()=>D});var m=s(177),p=s(4341),l=s(9465),u=s(7570),c=s(467),v=s(1717),h=s(8733),f=s(8254),e=s(3953),M=s(9640);function g(o,n){if(1&o){const r=e.RV6();e.j41(0,"div")(1,"ion-icon",9),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.removeFromFavourates())}),e.k0s()()}}function $(o,n){if(1&o){const r=e.RV6();e.j41(0,"ion-icon",10),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.addToFavourates())}),e.k0s()}}const R=[{path:"",component:(()=>{var o;class n{constructor(t,i){this.activatedRoute=t,this.store=i,this.movieTitle$=this.activatedRoute.snapshot.paramMap.get("title"),this.movieOverview$=this.activatedRoute.snapshot.paramMap.get("overview"),this.movieBackdrop_path$=this.activatedRoute.snapshot.paramMap.get("backdrop_path"),this.movieRelease_date$=this.activatedRoute.snapshot.paramMap.get("release_date"),this.movieVote_average$=this.activatedRoute.snapshot.paramMap.get("vote_average"),this.onSetup(),this.onIsMovieFavourate()}onSetup(){this.store.select(v.eo).subscribe(t=>{let i;i=t.find(a=>a.title==this.movieTitle$&&a.release_date==this.movieRelease_date$),null!=i&&(this.movieSelection$=i)}),void 0===this.movieSelection$&&this.store.select(v.MU).subscribe(t=>{this.movieSelection$=t.find(i=>i.title==this.movieTitle$&&i.release_date==this.movieRelease_date$)}),void 0===this.movieSelection$&&this.store.select(v.pb).subscribe(t=>{this.movieSelection$=t.find(i=>i.title==this.movieTitle$&&i.release_date==this.movieRelease_date$)}),this.favourateMovies=this.store.select(v.Rq)}onIsMovieFavourate(){this.favourateMovies.subscribe(t=>{let i=t.find(a=>a.title==this.movieSelection$.title&&a.release_date==this.movieSelection$.release_date);this.isSelectedMovieFavourate$=null!=i,console.log("Current Movie Selection: ",i)})}addToFavourates(){var t=this;return(0,c.A)(function*(){t.store.dispatch((0,h.Z6)({favourateMovie:t.movieSelection$})),t.isSelectedMovieFavourate$=!0,t.store.select(v.Rq).subscribe(function(){var i=(0,c.A)(function*(a){t.favMovies=JSON.stringify(a)});return function(a){return i.apply(this,arguments)}}()),yield f.p.set({key:"FavourateMovies",value:t.favMovies})})()}removeFromFavourates(){var t=this;return(0,c.A)(function*(){t.store.dispatch((0,h.Gi)({favourateMovie:t.movieSelection$})),t.isSelectedMovieFavourate$=!1,t.store.select(v.Rq).subscribe(function(){var i=(0,c.A)(function*(a){t.favMovies=JSON.stringify(a)});return function(a){return i.apply(this,arguments)}}()),yield f.p.set({key:"FavourateMovies",value:t.favMovies})})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.rXU(u.nX),e.rXU(M.il))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-movie-details"]],decls:26,vars:9,consts:[["elseBlock",""],[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"movie-container"],["alt","Image",3,"src"],[4,"ngIf","ngIfElse"],["name","heart-sharp","size","large",3,"click"],["name","heart-outline","size","large",3,"click"]],template:function(t,i){if(1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Movie Details"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-header",4)(8,"ion-toolbar")(9,"ion-buttons",2),e.nrm(10,"ion-back-button"),e.k0s(),e.j41(11,"ion-title",5),e.EFF(12,"Movie Details"),e.k0s()()(),e.j41(13,"div",6),e.nrm(14,"ion-img",7),e.j41(15,"h1"),e.EFF(16),e.k0s(),e.j41(17,"p"),e.EFF(18),e.nrm(19,"br"),e.EFF(20),e.k0s(),e.DNE(21,g,2,0,"div",8)(22,$,1,0,"ng-template",null,0,e.C5r),e.j41(24,"p"),e.EFF(25),e.k0s()()()),2&t){const a=e.sdS(23);e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("src","https://image.tmdb.org/t/p/w600_and_h900_bestv2"+i.movieBackdrop_path$),e.R7$(2),e.JRh(i.movieTitle$),e.R7$(2),e.SpI(" Movies rating: ",i.movieVote_average$,""),e.R7$(2),e.SpI("Release Date: ",i.movieRelease_date$," "),e.R7$(),e.Y8G("ngIf",i.isSelectedMovieFavourate$)("ngIfElse",a),e.R7$(4),e.JRh(i.movieOverview$)}},dependencies:[m.bT,l.QW,l.W9,l.eU,l.iq,l.KW,l.BC,l.ai,l.el],styles:[".movie-container[_ngcontent-%COMP%]{padding:1dvb}"]}),n})()}];let F=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(R),u.iI]}),n})(),D=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[m.MD,p.YN,l.bv,F]}),n})()}}]);